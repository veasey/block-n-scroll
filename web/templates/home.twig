{% extends "base.twig" %}

{% block title %}Block &amp; Scroll - Home{% endblock %}

{% block content %}
    <h3>Look up rules, track your team and run your leagues!</h3>
    <nav>
        <a href="/rules">Rules &amp; Stats</a>
        <a href="/team">Team Management</a>
        <a href="/leagues">League Tracker</a>
    </nav>

    <h3>Latest Matches</h3>
    <table>
        <thead>
            <th>Match Start Time</th>
            <th>Teams</th>
            <th>Status</th>
            <th>&nbsp;</th>
        </thead>
        {% for match in matches %}
            <tr>
                <td>
                    {{match.created_at|date("l j F Y \\a\\t H:i")}}
                </td>
                <td>
                    {% include 'partials/home_team_name.twig' with {'match': match} %} ({{match.home_score ?? 0}}) vs 
                    {% include 'partials/away_team_name.twig' with {'match': match} %} ({{match.away_core ?? 0}})
                </td>
                <td>
                    {% if match.homeTeam.status == 'playing' %}IN PROGRESS
                    {% elseif match.homeTeam.status == 'postgame_sequence' %}POST GAME SEQUENCE
                    {% else %}CONCLUDED
                    {% endif %}
                </td>
                <td>
                    <a href="/match/view/{{match.id}}">
                        View
                    </a>
                </td>
            </tr>
        {% endfor %}
    </table>

    <div class="news">
        <h2>Latest News</h2>
        <ul>
            <li><strong>12 June 2025:</strong> Block &amp; Scroll is now live! Explore the new platform and its features.</li>
            <li><strong>11 June 2025:</strong> You can now manage your teams and track your leagues with our easy-to-use tools.</li>
            <li><strong>10 June 2025:</strong> The Rules &amp; Stats section has been refreshedâ€”take a look for the latest info.</li>
        </ul>
    </div>
{% endblock %}